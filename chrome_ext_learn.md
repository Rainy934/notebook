### 场景描述
平时工作和学习的过程中，我会经常去网络上寻找相关专业书籍的PDF文档，作为一个前端，我喜欢chrome浏览器，正好chrome浏览器可以很方便的打开PDF文档。在这个过程中，因为书籍内容比较多，而且可能多个PDF文档是同一段时间在看，所以存在了一个问题，每次当我关闭浏览器之后，<span style="color:#FF7F24;">第二天再重新打开我的PDF，我还得跑到具体的文件目录去，而且可能几个PDF不在同一个目录下面。所以我需要一个工具，类似于书架或者书签，或者历史记录，可以记录我看过的那些书籍，而且我可以快捷的点击直接打开。可惜在chrome应用商店我并没有找到我需要的，我决定自己开发一款扩展程序，基于chrome的默认PDF Viewer。</span>

### 程序思想
1. 扩展程序常驻一个js程序（background.js）在后台运行，用来监听collect.js发出的信息
2. 扩展程序按URL匹配规则，注入一个收集信息的js脚本（collect.js）
当用户打开一个PDF文档，匹配到本地文件协议和以``.PDF``结尾的url，注入的js脚本处理完整url信息，提取PDF的本地路径，和PDF文件名，并通过扩展程序的消息通信机制发出PDF信息到常驻程序(为什么呢？因为注入到页面的脚本程序无法直接和扩展程序共享作用域，他们并不是同一个域名下面，不符合同源策略，具体的请看相关书籍)
3. background.js 接收到信息，然后把信息保存在localStorage
4. 扩展程序popup页面用来展示书籍列表，并用来点击跳转，popup.js 读取localStorage中的信息，显示出来。
5. 点击PDF文件名，使用chrome tabs api 创建一个新标签页，并打开PDF相关url
6. ......

### 相关链接
chrome扩展程序开发的基础知识，推荐看一本书[《chrome扩展及应用开发》](https://pan.baidu.com/s/1o7Ng6VK "chrome扩展及应用开发")
此扩展程序源码地址：https://github.com/Rainy934/chrome-bookshelf-ext
